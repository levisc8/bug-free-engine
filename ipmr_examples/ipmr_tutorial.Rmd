---
title: "ipmr Examples"
output: 
  learnr::tutorial:
    progressive: true
    allow_skip: true
    highlight: pygments
runtime: shiny_prerendered
tutorial:
  version: 0.0.0.2
---


```{r setup, include=FALSE}
library(learnr)
knitr::opts_chunk$set(echo = FALSE)
```


## Overview

Welcome to the `ipmr` workshop! This workshop will teach you the basics of how to use `ipmr` to implement Integral Projection Models (IPM), as well as how to work with model objects to complete further analyses. Our first example will use real data to investigate optimal management strategies for an invasive population *Carpobrotus* species (iceplant) in Israel. We will also derive some life history traits, such as per-generation growth rates ($R_0$) and generation time ($T$).

Next, we will use a data set for an endangered *Lupine* species from California to demonstrate how to model populations structured by a mixture of discrete and continuous traits. 

This tutorial contains demonstrations of some newer features in `ipmr`, and therefore makes use of the development version of the package. We will also use a couple functions from `rlang`. If you haven't already installed them, please run the following chunk:

```{r echo = TRUE, eval = FALSE}

if(!requireNamespace("remotes")) {
  install.packages("remotes")
}

install.packages("rlang")

remotes::install_github("levisc8/ipmr")

```

### Finding help

**Package website**

The project website is https://levisc8.github.io/ipmr. This website contains all of the help files for the package's functions, as well as a number of longer articles on how to implement models.

**Bug reports**

Please use the issue tracker here: https://github.com/levisc8/ipmr/issues. If you are not comfortable with GitHub, then you can also email me (Sam).

**Instructor Email Addresses**

Sam: <levisc8@gmail.com>/<sam.levin@idiv.de>

*Others! Fill in later*



### Notation for the tutorial

This tutorial will make extensive use of exercises that use mathematical notation of IPMs to demonstrate how `ipmr` works with these models. This slide is a quick guide for the notation convention

### Traits, kernels and functions

  - Population trait distributions, such as size, weight, height, or color will be denoted $n(z,t)$ and $n(z',t+1)$. These are the trait distributions for trait $z$ at time $t$ and $z'$ at time $t+1$, respectively.
  
  - Bivariate kernels (i.e. kernels that are functions of $z$ and $z'$) will be capitalized and have at least two arguments (e.g. $P(z',z)$, $K(z',z, \theta)$). These may contain subscripts to denote parameter set indices (e.g. $P_{yr}(z',z)$).
  
  - Univariate functions (i.e. a regression model `survival ~ size`) will be lower case functions and have at least 1 argument (e.g. $Logit(s(z))$, or $Log(r_n(z, \theta))$). These may contain subscripts to denote parameter set indices (e.g. $Logit(r_{p,yr}(z))$).
  
  - Constant demographic parameters will be lower case and not be a function of anything (e.g. $r_g$). These may contain subscripts to denote parameter set indices (e.g. $r_{g,site}$).
  
  - Environmental parameters will be denoted $\theta$. These may contain subscripts to denote subsets of the parameter vector (e.g. $\theta_t$ for temperature).
 
## Iceplant IPM

```{r, child = 'sub-pages/iceplant_study.rmd'}

```


## Lupine IPM

```{r, child = 'sub-pages/lupine_study.rmd'}

```


